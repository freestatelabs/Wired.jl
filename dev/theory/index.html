<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Theory · Wired.jl</title><meta name="title" content="Theory · Wired.jl"/><meta property="og:title" content="Theory · Wired.jl"/><meta property="twitter:title" content="Theory · Wired.jl"/><meta name="description" content="Documentation for Wired.jl."/><meta property="og:description" content="Documentation for Wired.jl."/><meta property="twitter:description" content="Documentation for Wired.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Wired.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../usage/">Basic Usage</a></li><li class="is-active"><a class="tocitem" href>Theory</a><ul class="internal"><li><a class="tocitem" href="#Basics"><span>Basics</span></a></li><li><a class="tocitem" href="#The-Biot-Savart-Law"><span>The Biot-Savart Law</span></a></li><li><a class="tocitem" href="#Magnetic-Field-Around-a-Current-Carrying-Wire"><span>Magnetic Field Around a Current-Carrying Wire</span></a></li><li><a class="tocitem" href="#Current-Carrying-Circular-Ring"><span>Current-Carrying Circular Ring</span></a></li><li><a class="tocitem" href="#Finite-Element-Meshes"><span>Finite Element Meshes</span></a></li><li><a class="tocitem" href="#Other-Routines"><span>Other Routines</span></a></li></ul></li><li><a class="tocitem" href="../validation/">Validation</a></li><li><a class="tocitem" href="../benchmarking/">Benchmarking</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Theory</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Theory</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/freestatelabs/Wired.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/freestatelabs/Wired.jl/blob/main/docs/src/theory.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Theory"><a class="docs-heading-anchor" href="#Theory">Theory</a><a id="Theory-1"></a><a class="docs-heading-anchor-permalink" href="#Theory" title="Permalink"></a></h1><p>Theory manual for Wired.jl</p><h2 id="Basics"><a class="docs-heading-anchor" href="#Basics">Basics</a><a id="Basics-1"></a><a class="docs-heading-anchor-permalink" href="#Basics" title="Permalink"></a></h2><h3 id="Unit-System"><a class="docs-heading-anchor" href="#Unit-System">Unit System</a><a id="Unit-System-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-System" title="Permalink"></a></h3><p>All units are MKS:</p><ul><li>Length in <code>meters</code></li><li>Electric current in <code>amperes</code></li><li>Magnetic flux density in <code>Tesla</code></li></ul><h3 id="Coordinate-System"><a class="docs-heading-anchor" href="#Coordinate-System">Coordinate System</a><a id="Coordinate-System-1"></a><a class="docs-heading-anchor-permalink" href="#Coordinate-System" title="Permalink"></a></h3><p><code>Wired.jl</code> uses a global Cartesian coordinate system. It does not currently support  coordinate system conversions, or cylindrical, spherical, or toroidal systems. </p><p>For current-carrying <code>Ring</code> objects, the primary axis of the ring is the <code>Z</code> axis.</p><h2 id="The-Biot-Savart-Law"><a class="docs-heading-anchor" href="#The-Biot-Savart-Law">The Biot-Savart Law</a><a id="The-Biot-Savart-Law-1"></a><a class="docs-heading-anchor-permalink" href="#The-Biot-Savart-Law" title="Permalink"></a></h2><p>The Biot-Savart Law is a fundamental equation of magnetostatics, and analytically  determines the magnetic field generated by a constant electric current traveling  along a path in 3D space. Because it is analytical, it can  be very useful in accurately calculating the effects of complicated arrangements of currents in 3D space, by breaking down the larger problem into smaller pieces. </p><p><a href="https://en.wikipedia.org/wiki/Biot-Savart_law">Wikipedia</a> has a much better  description than provided here, but the core equation is a line integral:  </p><p class="math-container">\[ \overrightarrow{B}(r) = \frac{\mu_0}{4\pi} \int_C{\frac{I dl \times r&#39; }{|r&#39;|^3}}\]</p><ul><li><span>$r$</span> is the location in 3D space at which the field is being computed </li><li><span>$\mu_0$</span> is the magnetic permeability of vacuum - free space (magnetic fields within materials may vary considerably)</li><li><span>$I$</span> is the current flowing along the path </li><li><span>$dl$</span> is a differential vector along the path </li><li><span>$l$</span> is a point on the path, such that <span>$r&#39; = r - l$</span></li></ul><p>For input units in amps [A] and meters [m], the constant <span>$\mu_0=4\pi \times 10^-7$</span> [H/m] and <span>$\overrightarrow{B}$</span> is in Tesla [T]. </p><h2 id="Magnetic-Field-Around-a-Current-Carrying-Wire"><a class="docs-heading-anchor" href="#Magnetic-Field-Around-a-Current-Carrying-Wire">Magnetic Field Around a Current-Carrying Wire</a><a id="Magnetic-Field-Around-a-Current-Carrying-Wire-1"></a><a class="docs-heading-anchor-permalink" href="#Magnetic-Field-Around-a-Current-Carrying-Wire" title="Permalink"></a></h2><h3 id="Infinitely-Thin-Wire"><a class="docs-heading-anchor" href="#Infinitely-Thin-Wire">Infinitely Thin Wire</a><a id="Infinitely-Thin-Wire-1"></a><a class="docs-heading-anchor-permalink" href="#Infinitely-Thin-Wire" title="Permalink"></a></h3><p>For the case of an infinitely thin wire, this equation simplies greatly into the  common scalar form:  </p><p class="math-container">\[B(r) = \frac{\mu_0 I}{2 \pi r} \]</p><p>This equation computes the magnitude of the magnetic field, which is oriented tangent to a circle around the wire axis and perpendicular to the current path. </p><p><img src="../figs/B-wire.svg" alt/></p><p>Note that the equation has a singularity at radius <span>$r=0$</span> and predicts infinite  magnetic field at the center of the wire. Real conductors have finite cross-section and do not generate infinite magnetic fields. Also note that the magnetic field decays very quickly as the observation point moves further away from the current.</p><p>For more discussion see the <a href="http://hyperphysics.phy-astr.gsu.edu/hbase/magnetic/magcur.html">Hyperphysics Textbook</a>. </p><h3 id="Circular-Solid-Conductor"><a class="docs-heading-anchor" href="#Circular-Solid-Conductor">Circular Solid Conductor</a><a id="Circular-Solid-Conductor-1"></a><a class="docs-heading-anchor-permalink" href="#Circular-Solid-Conductor" title="Permalink"></a></h3><p>Inside a solid conductor, the magnetic field is bounded, and is in fact zero on the axis. It is also now a function of the  <a href="https://en.wikipedia.org/wiki/Permeability_(electromagnetism)">magnetic permeability</a>, `<code>\mu\</code>`, of the material that the current is travelling through. For some materials, like copper, this  value is close to that of free space, but for others, it can <a href="https://www.engineeringtoolbox.com/permeability-d_1923.html">vary significantly</a>.</p><p class="math-container">\[B(r) = \frac{\mu I r}{2 \pi R^2}\]</p><p>Outside the conductor, the calculation of the field is exactly the same.</p><p><img src="../figs/B-solid.svg" alt/></p><p>Notice the difference between the graph and the previous: the maximum value of  the field is on the surface of the conductor and has a finite value. Also, the  field decays incredibly quickly: just 50mm (2&quot;) away from the center of the  conductor, the field has decayed to less than 1/8 of its maximum value.</p><h3 id="Finite-Length-Wires"><a class="docs-heading-anchor" href="#Finite-Length-Wires">Finite Length Wires</a><a id="Finite-Length-Wires-1"></a><a class="docs-heading-anchor-permalink" href="#Finite-Length-Wires" title="Permalink"></a></h3><p>For simple, straight wires in 2D space, the Biot-Savart law is quite straightforward  and has limited applicability. However, it can be even more useful in determining  the magnetic fields generated by complex arrangements of current-carrying wires  by splitting the problem up into many small wires.  </p><p>The purpose of <code>Wired.jl</code> is to integrate the Biot-Savart law over a large  number of outpoint points called <code>nodes</code>. In this case, the current <code>sources</code> are  discrete wires of a finite length, and an <a href="https://web.mit.edu/6.013_book/www/chapter8/8.2.html">analytical solution</a> is employed. </p><p><img src="../figs/analytical-diagram.svg" alt="Diagram"/></p><p>If <span>$P$</span> is an arbitrary point in 3D space, and <span>$\vec{a}$</span> is a wire segment  carrying current <span>$I$</span>, then let <span>$\vec{b}$</span> and <span>$\vec{c}$</span> be vectors from <span>$P$</span> to the  start and end points of <span>$\vec{a}$</span>.  Assuming <span>$P$</span> is in free space, then the magnetic flux density at <span>$P$</span> is given by: </p><p class="math-container">\[\overrightarrow{B} = \frac{I \cdot \mu_{0}}{4 \pi} \cdot \left( \frac{\overrightarrow{a} \cdot \overrightarrow{c}}{|\overrightarrow{c}|} - \frac{\overrightarrow{a} \cdot \overrightarrow{b}}{|\overrightarrow{b}|} \right) \cdot \frac{\overrightarrow{c}\times\overrightarrow{a}}{ {|\overrightarrow{c} \times\overrightarrow{a}|}^2}\]</p><p>If there are many current sources and many output locations at which to observe the magnetic field, then this equation can be numerically integrated for all of them. This vector analytical solution corresponds to the infinitely thin wire scalar solution. </p><h3 id="Current-Density-Correction"><a class="docs-heading-anchor" href="#Current-Density-Correction">Current Density Correction</a><a id="Current-Density-Correction-1"></a><a class="docs-heading-anchor-permalink" href="#Current-Density-Correction" title="Permalink"></a></h3><p>For node points within the radius of the solid conductor, this equation is multiplied by the following ratio:</p><p class="math-container">\[J_{correction} = \frac{{r_o}^2}{{r}^2}\]</p><p>where <span>$r_o = \frac{|\vec{c} \times \vec{a}|}{|a|}$</span> is the shortest distance from the node to the centerline of the <code>Wire</code>, and <span>$r$</span> is the finite radius of the <code>Wire</code> cross-section.</p><h2 id="Current-Carrying-Circular-Ring"><a class="docs-heading-anchor" href="#Current-Carrying-Circular-Ring">Current-Carrying Circular Ring</a><a id="Current-Carrying-Circular-Ring-1"></a><a class="docs-heading-anchor-permalink" href="#Current-Carrying-Circular-Ring" title="Permalink"></a></h2><p><strong>Reference</strong>: <a href="https://ntrs.nasa.gov/citations/20010038494">Simple Analytic Expressions for the Magnetic Field of a Current-Carrying Loop</a></p><p>Similarly, the magnetic field generated by a current traveling in a loop can be expressed analytically. This is especially useful for solenoids such as those in electric motors. The equations are more involved. </p><p>Given a current-carrying ring with finite circular cross-section and the following parameters:</p><ul><li>Height above the <code>XY</code> plane <span>$H$</span></li><li>Major radius <span>$R$</span> </li><li>Minor radius <span>$a$</span> (cross-section radius)</li><li>Electric current <span>$I$</span> </li></ul><p>the magnetic flux density at location <span>$(x,y,z)$</span> can be calculated.</p><p>Intermediate variables:</p><ul><li><span>$\rho^2 = x^2 + y^2$</span></li><li><span>$r^2 = x^2 + y^2 + z^2$</span></li><li><span>$\alpha^2 = R^2 + r^2 - 2 \space R \space \rho$</span></li><li><span>$\beta^2 = R^2 + r^2 + 2 \space R \space \rho$</span></li><li><span>$k^2 = 1 - \alpha^2 / \beta^2$</span></li><li><span>$C = \mu_0 \space I / \pi$</span> </li></ul><p>Elliptic integrals:</p><ul><li>Complete elliptic integral of the first kind <span>$K(k)$</span> </li><li>Complete elliptic integral of the second kind <span>$E(k)$</span> </li></ul><p>The magnetic flux density components:</p><p class="math-container">\[\begin{aligned}
\vec{B_x}(x,y,z) = \frac{C \space x \space z}{2\alpha^2 \space \beta \space \rho^2} \left[ \left( \alpha^2 + r^2 \right) \space E(k^2) - \alpha^2 K(k^2) \right] \\
\vec{B_y}(x,y,z) = \frac{y}{x} \space |B_x| \\
\vec{B_z}(x,y,z) = \frac{C}{2\alpha^2 \space \beta} \left[ \left( \alpha^2 - r^2 \right) \space E(k^2) + \alpha^2 K(k^2) \right]
\end{aligned}\]</p><h3 id="Current-Density-Correction-2"><a class="docs-heading-anchor" href="#Current-Density-Correction-2">Current Density Correction</a><a class="docs-heading-anchor-permalink" href="#Current-Density-Correction-2" title="Permalink"></a></h3><p>A similar current density correction is applied to <span>$(x,y,z)$</span> locations that fall within the minor radius of the ring:</p><p class="math-container">\[J_{correction} = \frac{\alpha^2}{a^2}\]</p><p>However, note that in this case, the result is an <em>approximation</em>. See <a href="../validation/#Validation">Validation</a> for more details. </p><h2 id="Finite-Element-Meshes"><a class="docs-heading-anchor" href="#Finite-Element-Meshes">Finite Element Meshes</a><a id="Finite-Element-Meshes-1"></a><a class="docs-heading-anchor-permalink" href="#Finite-Element-Meshes" title="Permalink"></a></h2><h3 id="Converting-Mesh-to-Wire-Objects"><a class="docs-heading-anchor" href="#Converting-Mesh-to-Wire-Objects">Converting Mesh to <code>Wire</code> Objects</a><a id="Converting-Mesh-to-Wire-Objects-1"></a><a class="docs-heading-anchor-permalink" href="#Converting-Mesh-to-Wire-Objects" title="Permalink"></a></h3><h2 id="Other-Routines"><a class="docs-heading-anchor" href="#Other-Routines">Other Routines</a><a id="Other-Routines-1"></a><a class="docs-heading-anchor-permalink" href="#Other-Routines" title="Permalink"></a></h2><h3 id="Treatment-of-Numerical-Singularities"><a class="docs-heading-anchor" href="#Treatment-of-Numerical-Singularities">Treatment of Numerical Singularities</a><a id="Treatment-of-Numerical-Singularities-1"></a><a class="docs-heading-anchor-permalink" href="#Treatment-of-Numerical-Singularities" title="Permalink"></a></h3><p>For certain situations (such as the <span>$\vec{B_x}$</span> and <span>$\vec{B_y}$</span> components of the magnetic field at the center of a ring), the analytical solution has a numerical singularity: it diverges to <span>$\infty$</span>.  </p><p><code>Wired.jl</code> converts all singularities to the value of <code>0.0</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../usage/">« Basic Usage</a><a class="docs-footer-nextpage" href="../validation/">Validation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Friday 10 January 2025 03:42">Friday 10 January 2025</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
